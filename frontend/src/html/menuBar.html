<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Menu Bar - Tutorial</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <!-- Container Principal -->
    <div class="mother-container bg-white min-h-screen w-full flex relative">
        
        <!-- üì± √âTAPE 1: Header Mobile avec Burger Menu -->
        <!-- Visible seulement sur mobile (md:hidden) -->
        <div class="md:hidden fixed top-0 left-0 right-0 bg-[#2563eb] h-16 flex items-center justify-between px-4 z-30">
            <h2 class="text-xl text-white font-bold">SUIVI CONGES</h2>
            
            <!-- Bouton Burger -->
            <button id="burger-btn" class="text-white text-xl">
                <i class="fa-solid fa-bars"></i>
            </button>
        </div>
        
        <!-- üåë √âTAPE 2: Overlay pour Mobile -->
        <!-- Arri√®re-plan sombre quand menu ouvert -->
        <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-35 hidden"></div>
        
        <!-- üìã √âTAPE 3: Menu Sidebar Responsive -->
        <div id="menu" class="menu bg-[#2563eb] h-screen
                     fixed md:relative                    
                     w-80 md:w-[13%]                     
                     -translate-x-full md:translate-x-0   
                     z-40                                 
                     transition-transform duration-300    
                     top-0 left-0">
            
            <!-- Header du menu -->
            <div class="header bg-[#1e40af] h-16 md:h-[7%] flex justify-center items-center relative">
                <h2 class="text-xl md:text-2xl text-white font-bold">SUIVI CONGES</h2>
                
                <!-- Bouton Fermer (mobile seulement) -->
                <button id="close-btn" class="md:hidden absolute right-4 text-white text-xl">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
            
            <!-- Navigation -->
            <nav class="flex flex-col gap-4 p-4 md:p-2">
                <a href="#" class="nav-link text-white text-lg md:text-[1.2em] hover:bg-[#3b82f6] p-3 md:p-2 min-h-[3rem] md:h-[5vh] flex items-center rounded-2xl transition-colors">
                    <i class="fa-solid fa-gauge mr-3 text-white text-lg p-2"></i>
                    Tableau de bord
                </a>
                <a href="#" class="nav-link text-white text-lg md:text-[1.2em] hover:bg-[#3b82f6] p-3 md:p-2 min-h-[3rem] md:h-[5vh] flex items-center rounded-2xl transition-colors">
                    <i class="fa-solid fa-plus mr-3 text-white text-lg p-2"></i>
                    Ajouter un agent
                </a>
                <a href="#" class="nav-link text-white text-lg md:text-[1.2em] hover:bg-[#3b82f6] p-3 md:p-2 min-h-[3rem] md:h-[5vh] flex items-center rounded-2xl transition-colors">
                    <i class="fa-solid fa-people-roof mr-3 text-white text-lg p-2"></i>
                    G√©rer les cong√©s
                </a>
            </nav>
        </div>
        
        <!-- üìÑ √âTAPE 4: Contenu Principal Responsive -->
        <div class="main-content 
                    w-full md:w-[87%]           
                    pt-16 md:pt-0              
                    min-h-screen flex-1">
            
            <div class="p-4 md:p-6">
               
            </div>
        </div>
    </div>

    <script>
        // üéØ √âTAPE 5: JavaScript pour l'Interactivit√©
        
        // 1Ô∏è‚É£ R√©cup√©rer les √©l√©ments
        const burgerBtn = document.getElementById('burger-btn');
        const closeBtn = document.getElementById('close-btn');
        const menu = document.getElementById('menu');
        const overlay = document.getElementById('overlay');
        const navLinks = document.querySelectorAll('.nav-link');
        
        // 2Ô∏è‚É£ √âtat du menu
        let isMenuOpen = false;
        
        // 3Ô∏è‚É£ Fonction pour ouvrir le menu
        function openMenu() {
            console.log('üîì Ouverture du menu');
            isMenuOpen = true;
            
            // Montrer le menu (enlever la translation)
            menu.classList.remove('-translate-x-full');
            menu.classList.add('translate-x-0');
            
            // Montrer l'overlay
            overlay.classList.remove('hidden');
            
            // Bloquer le scroll de la page
            document.body.style.overflow = 'hidden';
        }
        
        // 4Ô∏è‚É£ Fonction pour fermer le menu
        function closeMenu() {
            console.log('üîí Fermeture du menu');
            isMenuOpen = false;
            
            // Cacher le menu (ajouter la translation)
            menu.classList.add('-translate-x-full');
            menu.classList.remove('translate-x-0');
            
            // Cacher l'overlay
            overlay.classList.add('hidden');
            
            // R√©activer le scroll
            document.body.style.overflow = 'auto';
        }
        
        // 5Ô∏è‚É£ Fonction toggle (basculer)
        function toggleMenu() {
            console.log('üîÑ Toggle menu, √©tat actuel:', isMenuOpen);
            isMenuOpen ? closeMenu() : openMenu();
        }
        
        // 6Ô∏è‚É£ Event Listeners
        
        // Clic sur burger button
        if (burgerBtn) {
            burgerBtn.addEventListener('click', toggleMenu);
        }
        
        // Clic sur bouton fermer
        if (closeBtn) {
            closeBtn.addEventListener('click', closeMenu);
        }
        
        // Clic sur overlay pour fermer
        if (overlay) {
            overlay.addEventListener('click', closeMenu);
        }
        
        // Fermer avec la touche Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && isMenuOpen) {
                closeMenu();
            }
        });
        
        // 7Ô∏è‚É£ Gestion du redimensionnement
        window.addEventListener('resize', () => {
            console.log('üìè Redimensionnement, largeur:', window.innerWidth);
            
            if (window.innerWidth >= 768) {
                // Mode desktop: s'assurer que le menu est dans le bon √©tat
                menu.classList.remove('-translate-x-full');
                menu.classList.add('translate-x-0');
                overlay.classList.add('hidden');
                document.body.style.overflow = 'auto';
                isMenuOpen = false;
            } else if (isMenuOpen) {
                // Mode mobile: garder l'√©tat actuel
                // Ne rien faire si le menu est ouvert
            } else {
                // Mode mobile: menu ferm√©
                closeMenu();
            }
        });
        
        // 8Ô∏è‚É£ Navigation active
        navLinks.forEach((link, index) => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                
                // Enlever la classe active de tous les liens
                navLinks.forEach(l => l.classList.remove('bg-[#1e40af]'));
                
                // Ajouter la classe active au lien cliqu√©
                link.classList.add('bg-[#1e40af]');
                
                // Fermer le menu sur mobile apr√®s clic
                if (window.innerWidth < 768) {
                    setTimeout(closeMenu, 150); // Petit d√©lai pour l'UX
                }
                
                console.log('üîó Navigation:', link.textContent.trim());
            });
        });
        
        // 9Ô∏è‚É£ Initialisation
        console.log('üöÄ Menu responsive initialis√©!');
        
        // D√©finir le premier lien comme actif
        if (navLinks.length > 0) {
            navLinks[0].classList.add('bg-[#1e40af]');
        }
        
        // V√©rifier l'√©tat initial selon la taille d'√©cran
        if (window.innerWidth < 768) {
            closeMenu();
        }
    </script>
</body>
</html>